# Оффлайн библиотека

Программа скачивает книги о фантастике с сайта [tululu.org](https://tululu.org/) и создает свой собственный [сайт](https://anneg8.github.io/books-library-restyle/), работающий без подключения к интернету.

### Как установить

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

## Скачивание книги для библиотеки (`main.py`)

Запуск файла `main.py` создаст 2 папки `books` и `images` (в первой сохранятся сами книги в txt-формате, во второй - обложки этих книг) и файл `book_list.json` с информацией о каждой книге.
Возможно указать диапазон скачиваемых книг, расположение папок и json-файла. Можно не скачивать текст книг или их обложки.

### Аргументы

По-умолчанию программа скачивает 10 книг с id от 1 до 10. При необходимости можно задать свой диапазон, используя необязательные аргументы `--start_id` и `--end_id` (или их сокращения `-s` и `-e`, соответственно). 
**Важно!** Оба аргумента должны быть положительными целыми числами. `--end_id` должно быть не меньше `--start_id`.

Аргументы `--dest_folder`(`-f`) и `--json_path`(`-j`) позволяют задать путь сохранения папок с книгами и обложками и json-файла. По-умолчанию будут сохранены в директории проекта.

Аргументы `--skip_txt`(`-skt`) и `--skip_imgs`(`-ske`) являются флагами, их вызов позволяет пропустить скачивание книг и обложек соответственно.

### Запуск

Запустите программу командой

```bash
$ python main.py -s START -e END -f DEST_FOLDER -j JSON_PATH -skt -ske
```

Все аргументы являются необязательными. Подробнее о них можно узнать в соответствующем разделе.

В случае, если некоторые книги не удалось скачать, по завершению работы программа выдаст вам список их id.
Если вы указали директорию, для работы с которой у вас не хватает прав, программа прервется, а вы получите уведомление.

## Работа библиотеки

Запуск файла `render_website.py` запустит [библиотеку](http://127.0.0.1:5500/). Для этого предвариьельно необходимо скачать книги, используя файл  `main.py` (см. инструкцию выше).

### Аргументы

Аргументы `--dest_folder`(`-f`) и `--json_path`(`-j`) позволяют задать путь папок из которых будут взяты книги, их обложки и файл json со списком книг. Если файлы не были перенесены в ручную, укажите те же пути, что использовались для `main.py`.

### Запуск

Запустите сервер командой

```bash
$ python render_website.py -f DEST_FOLDER -j JSON_PATH 
```

Перейдите по [ссылке](http://127.0.0.1:5500/), для работы с библиотекой. 

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).